"use strict";(self.webpackChunkkitchen=self.webpackChunkkitchen||[]).push([[199],{374:function(e,n,a){var t=a(671),s=a(144),r=a(573),i="",l=window&&window.location&&window.location.hostname;"dev.eberhardt.cloud"===l&&(i="http://dev.eberhardt.cloud:4000"),"www.eberhardt.cloud"===l&&(i="https://eberhardt.cloud"),"eberhardt.cloud"===l&&(i="https://eberhardt.cloud");var o="".concat(i),c=function(){function e(){(0,t.Z)(this,e)}return(0,s.Z)(e,null,[{key:"getBookmark",value:function(){return(0,r.Z)({method:"GET",url:o+"/api/bookmark"}).then((function(e){return e.data}))}},{key:"addBookmark",value:function(e){return(0,r.Z)({method:"POST",url:o+"/api/bookmark",data:e}).then((function(e){return e.data}))}},{key:"getTags",value:function(){return(0,r.Z)({method:"GET",url:o+"/api/tags"}).then((function(e){return e.data}))}},{key:"addTag",value:function(e){return(0,r.Z)({method:"POST",url:o+"/api/tags",data:e}).then((function(e){return e.data}))}},{key:"deleteTag",value:function(e){return(0,r.Z)({method:"DELETE",url:"".concat(o,"/api/tags/").concat(e)}).then((function(e){return e.data}))}},{key:"updateTag",value:function(e){return(0,r.Z)({method:"PATCH",url:"".concat(o,"/api/tags/").concat(e.id),data:e}).then((function(e){return e.data}))}},{key:"addRecipe",value:function(e){return(0,r.Z)({method:"POST",url:"".concat(o,"/api/recipe"),data:e}).then((function(e){return e.data}))}},{key:"deleteRecipe",value:function(e){return(0,r.Z)({method:"DELETE",url:"".concat(o,"/api/recipe/").concat(e)}).then((function(e){return e.data}))}},{key:"saveRecipe",value:function(e){return(0,r.Z)({method:"PATCH",url:"".concat(o,"/api/recipe/").concat(e.id),data:e}).then((function(e){return e.data}))}},{key:"search",value:function(e){return(0,r.Z)({method:"POST",url:"".concat(o,"/api/search"),data:e}).then((function(e){return e.data}))}},{key:"random",value:function(){return(0,r.Z)({method:"POST",url:"".concat(o,"/api/random")}).then((function(e){return e.data}))}},{key:"getRecipe",value:function(e){return(0,r.Z)({method:"GET",url:"".concat(o,"/api/recipe/").concat(e)}).then((function(e){return e.data}))}},{key:"cameraUpload",value:function(e){return(0,r.Z)({method:"POST",url:"".concat(o,"/api/camera"),data:e}).then((function(e){return e.data}))}},{key:"gmail",value:function(e){return(0,r.Z)({method:"POST",url:"".concat(o,"/api/recipe/").concat(e.id,"/gmail"),data:e}).then((function(e){return e.data}))}},{key:"sendgrid",value:function(e){return(0,r.Z)({method:"POST",url:"".concat(o,"/api/recipe/").concat(e.id,"/sendgrid"),data:e}).then((function(e){return e.data}))}},{key:"upload",value:function(e){var n=new FormData;n.append(e.filename,e.file);var a=new Request("".concat(o,"/api/upload"),{method:"POST","content-type":"multipart/form-data",body:n});return fetch(a).then((function(e){return e.json()})).catch((function(e){return alert("Server error."),e}))}}]),e}();n.Z=c},834:function(e,n,a){a.d(n,{Z:function(){return s}});a(313);var t=a(417);var s=function(e){return(0,t.jsx)("div",{className:"row",children:(0,t.jsx)("div",{className:"col-12",children:(0,t.jsxs)("a",{href:"# ",onClick:function(n){return function(n){n.preventDefault(),e.removeTag(e.tag)}(n)},children:[(0,t.jsx)("img",{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAABmJLR0QA/wD/AP+gvaeTAAAACXBIWXMAAA3XAAAN1wFCKJt4AAAAB3RJTUUH4wMIFyA6lPHZVgAAAXxJREFUSMfFlbtOAlEQhv+1gkizxA56wHcQ0AdAO1pj1FeA8EhUSqmYiFQqrYqY2EgtGHo/m1lzsiLsyqqTnJxkLv/MmduRfpm8RUIgK2lPUk1SUVLeRGNJQ0kdSSee573G8gqkgRbwxnKamm46KngeGDgAZ8AhUADW7RSBI+Dc0RsAuSjgYzN4BMoRAqoAI7MZf+vE0hJEfgn4MVLqAz2zvQFS85RaTuR+3G4BssCTYTTnCYOCln/akkDVKbzvCg6Cgq7a90DXsPYlac34NbvbCcxWO4QpWd4BCgm8oGhYQ5c5M2YmpNyPMGj9kE3G+DM3RUlSgPn+JykKvN3bvZXAC4I2v3MddOyuJ+CgHsL8HLSpPa2yQnp2DGPyZRs4q+IZ2FhxVTTmKaSAW1PoxVx2WeBq4bIzxZyzrkdANQL4thP5S5Q/IWdRBNQFjoGSDVEG2DTehaN3vRQ8lK6mU/hFNAEa36Vl2afvS9q1xVUKffoP1oqnnudN9F/0AZA4cSja75VSAAAAAElFTkSuQmCC",alt:"remove tag"}),"\xa0",(0,t.jsx)("span",{className:"tag-link",children:e.tag.tag})]})})})}},203:function(e,n,a){a.d(n,{Z:function(){return s}});a(313);var t=a(417);var s=function(e){return(0,t.jsx)("div",{className:"row",children:(0,t.jsx)("div",{className:"col-12",children:(0,t.jsxs)("a",{href:"# ",onClick:function(n){return function(n){n.preventDefault(),e.addTag(e.tag)}(n)},children:[(0,t.jsx)("img",{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAABmJLR0QA/wD/AP+gvaeTAAAACXBIWXMAAA3XAAAN1wFCKJt4AAAAB3RJTUUH4wMIFxgOotqRGAAAAYFJREFUSMfFlb9OAkEQxr+zgkhzxA56wHcQ0AdAO1tj1FeA8EhUSumfRKRSaf2f2EgtGHp/NnNmcx53Rzh1ks0mM998MzuzOyv9snhxRqAoaUdSS1JVUtlMY0mPkvqSjj3Pe18oKpAHusAHyTI1bD4teRkYOQSnwAFQAVZtVYFD4MzBjYBSGvKxOTwB9RQJNYBn8xnPDWJlCTK/BPwFSuoDA/O9AXJRoK6Tub/obQGKwItxdKKMQUPrMSRDYBhjbzqN913DftDQhCwBSMCcG2xPklZM37K9l8Hb6oU4Jas7QCWDE1QN9ugqZ6YsRNQ8SYYhn4LpZ26JspSA8/NPShREu7d9I4MTBNf8zg3Qt303gwC7Ic7vhza1ozWWeGhbxjH5MQ2cUfEKrC05KtpRgBxwa4DBgsOuCFzFDjsDlpxx/Qw0U5BvOpm/pfkTSpZFIOfAEVCzR1QA1k134eCuE8lD5eo4jY+TCdCeV5akT9+XtG2Dqxb69B/sKp54njfRf8kXFOiYEKlDfDgAAAAASUVORK5CYII=",alt:"add tag"}),"\xa0",(0,t.jsx)("span",{className:"tag-link",children:e.tag.tag})]})})})}},341:function(e,n,a){a(313);var t=a(417);n.Z=function(e){return(0,t.jsxs)("div",{className:"recipe-viewer",children:[(0,t.jsx)("h3",{children:e.recipe.recipe_name}),(0,t.jsx)("div",{className:"row",children:(0,t.jsxs)("div",{className:"col-12",children:[(0,t.jsx)("div",{children:(0,t.jsx)("strong",{children:"Ingredients"})}),(0,t.jsx)("br",{}),e.recipe.ingredients]})}),(0,t.jsx)("div",{className:"row",children:(0,t.jsxs)("div",{className:"col-12",children:[(0,t.jsx)("div",{children:(0,t.jsx)("strong",{children:"Recipe"})}),(0,t.jsx)("br",{}),e.recipe.recipe]})})]})}},841:function(e,n,a){function t(e,n){var a=e.tag.toUpperCase(),t=n.tag.toUpperCase(),s=0;return a>t?s=1:a<t&&(s=-1),s}a.d(n,{K:function(){return t}})},540:function(e,n,a){a.r(n),a.d(n,{default:function(){return j}});var t=a(942),s=a(413),r=a(439),i=a(313),l=a(274),o=a(467),c=a(374),d=a(203),u=a(834),h=a(417);var m=function(e){return(0,h.jsxs)(i.Fragment,{children:[(0,h.jsxs)("div",{className:"row",children:[(0,h.jsx)("div",{className:"col-12 col-md-1",children:"Name"}),(0,h.jsx)("div",{className:"col-12 col-md-7",children:(0,h.jsx)("input",{type:"text",className:"form-control",name:"recipe_name",onChange:e.handleInputChange,value:e.recipe_name||""})})]}),(0,h.jsxs)("div",{className:"row",children:[(0,h.jsx)("div",{className:"col-12 col-md-1"}),(0,h.jsx)("div",{className:"col-12 col-md-5",children:(0,h.jsxs)("div",{className:"tag-holder",children:[(0,h.jsx)("div",{className:"tag-holder-header",children:"Search Tag(s)"}),e.tags.map((function(n,a){return(0,h.jsx)(u.Z,{tag:n,removeTag:e.removeTag},n.id)}))]})}),(0,h.jsx)("div",{className:"col-12 col-md-5",children:(0,h.jsxs)("div",{className:"tag-holder",children:[(0,h.jsx)("div",{className:"tag-holder-header",children:"Available Tag(s)"}),e.all_tags.map((function(n,a){return(0,h.jsx)(d.Z,{tag:n,addTag:e.addTag},n.id)}))]})})]}),(0,h.jsxs)("div",{className:"row",children:[(0,h.jsx)("div",{className:"col-12 col-md-1",children:"Ingredients"}),(0,h.jsx)("div",{className:"col-12 col-md-10",children:(0,h.jsx)("textarea",{className:"form-control ingredients",name:"ingredients",onChange:e.handleInputChange,value:e.ingredients||""})})]})]})};var p=function(e){return(0,h.jsx)(i.Fragment,{children:(0,h.jsx)("div",{className:"row",children:(0,h.jsx)("div",{className:"col-12",children:(0,h.jsx)("a",{href:"# ",onClick:function(n){return function(n){n.preventDefault(),e.viewRecipe(e.result.id)}(n)},children:e.result.recipe_name})})})})};var g=function(e){return(0,h.jsxs)("div",{className:"results-holder",children:[(0,h.jsxs)("h4",{children:["Total: ",e.results.length]}),(0,h.jsx)("br",{}),e.results.map((function(n,a){return(0,h.jsx)(p,{result:n,viewRecipe:e.viewRecipe},n.id)}))]})},f=a(341);var A=function(e){return(0,h.jsxs)(i.Fragment,{children:[(0,h.jsx)("div",{className:"row button-row",children:(0,h.jsxs)("div",{className:"col-12",children:[e.showForm&&(0,h.jsxs)(i.Fragment,{children:[(0,h.jsx)("button",{type:"button",className:"btn btn-primary",onClick:e.handleSearch,children:"Search"}),"\xa0",(0,h.jsx)("button",{type:"button",className:"btn btn-primary",onClick:e.handleRandom,children:"Random"})]}),e.showResults&&(0,h.jsxs)(i.Fragment,{children:[(0,h.jsx)("button",{type:"button",className:"btn btn-primary",onClick:e.handleShowForm,children:"Show Form"}),"\xa0",(0,h.jsx)("button",{type:"button",className:"btn btn-primary",onClick:e.handleRandom,children:"Random"})]}),e.showRecipe&&(0,h.jsxs)(i.Fragment,{children:[(0,h.jsx)("button",{type:"button",className:"btn btn-primary",onClick:e.handleShowResults,children:"Back To Results"}),"\xa0",(0,h.jsx)("button",{type:"button",className:"btn btn-primary",onClick:e.handleShowForm,children:"Show Form"}),"\xa0",(0,h.jsx)("button",{type:"button",className:"btn btn-primary",onClick:e.handleEdit,children:"Edit"}),"\xa0",(0,h.jsx)("button",{type:"button",className:"btn btn-primary",onClick:e.handleBookmark,children:"Bookmark"}),"\xa0",(0,h.jsx)("button",{type:"button",className:"btn btn-primary",onClick:e.sendEmail,children:"Email"})]})]})}),(0,h.jsx)("br",{}),(0,h.jsx)("br",{})]})},v=a(841);var x=function(e){return(0,h.jsxs)("div",{className:e.show?"container generic-modal":"container generic-modal hidden",children:[(0,h.jsx)("div",{className:"generic-modal-window",children:(0,h.jsx)("div",{className:"modal-dialog modal-lg",role:"document",children:(0,h.jsxs)("div",{className:"modal-content",children:[(0,h.jsx)("div",{className:"modal-header",children:(0,h.jsx)("h5",{className:"modal-title",children:"Email Recipe"})}),(0,h.jsx)("div",{className:"modal-body",children:(0,h.jsx)("div",{className:"row",children:(0,h.jsx)("div",{className:"col-12",children:(0,h.jsx)("input",{type:"text",name:"email",className:"form-control",onChange:e.handleInputChange,value:e.email})})})}),(0,h.jsxs)("div",{className:"modal-footer",children:[(0,h.jsx)("button",{type:"button",className:"btn btn-primary",onClick:e.sendEmailForReals,children:"Send"}),(0,h.jsx)("button",{type:"button",className:"btn btn-cancel",onClick:e.cancelEmail,children:"Cancel"})]})]})})}),(0,h.jsx)("div",{className:"modal-backdrop fade show"})]})};var j=function(){var e=(0,o.s0)(),n=(0,i.useState)({email:"",recipe_name:"",ingredients:"",tags:[],all_tags:[],results:[],all_tags_immutable:[],recipe:{},showForm:!0,showResults:!1,showRecipe:!1,showEmail:!1}),a=(0,r.Z)(n,2),d=a[0],u=a[1];(0,i.useEffect)((function(){document.getElementById("spinner-holder").style.display="block",c.Z.getTags().then((function(e){var n=JSON.parse(JSON.stringify(d));n.all_tags=e,n.all_tags_immutable=e,document.getElementById("spinner-holder").style.display="none",u((0,s.Z)((0,s.Z)({},d),{},{all_tags:e,all_tags_immutable:e}))}))}),[]);var p=function(e){var n=e.target,a=n.name,r=n.value;u((0,s.Z)((0,s.Z)({},d),{},(0,t.Z)({},a,r)))},j=function(){c.Z.random().then((function(e){document.getElementById("spinner-holder").style.display="none",u((0,s.Z)((0,s.Z)({},d),{},{showForm:!1,showResults:!0,results:e}))}))},w=function(){var e=JSON.parse(JSON.stringify(d)),n={recipe_name:e.recipe_name,ingredients:e.ingredients,tags:e.tags};document.getElementById("spinner-holder").style.display="block",c.Z.search(n).then((function(e){document.getElementById("spinner-holder").style.display="none",u((0,s.Z)((0,s.Z)({},d),{},{showForm:!1,showResults:!0,results:e}))}))},b=function(){window.scrollTo(0,0),u((0,s.Z)((0,s.Z)({},d),{},{showResults:!1,showForm:!0,showRecipe:!1}))},y=function(){window.scrollTo(0,0),u((0,s.Z)((0,s.Z)({},d),{},{showResults:!0,showRecipe:!1}))},N=function(){document.getElementById("spinner-holder").style.display="block";var e={id:d.recipe.id};c.Z.addBookmark(e).then((function(e){document.getElementById("spinner-holder").style.display="none","undefined"===typeof e||"undefined"===typeof e.status||"forbidden"===e.status?l.Am.error("Denied"):"ok"===e.status&&l.Am.success("Recipe has been bookmarked!")}))},k=function(){e("/recipe/"+d.recipe.id)},R=function(){u((0,s.Z)((0,s.Z)({},d),{},{showEmail:!0}))};return(0,h.jsxs)(i.Fragment,{children:[(0,h.jsx)(A,{sendEmail:R,handleRandom:j,handleBookmark:N,handleEdit:k,handleSearch:w,handleShowResults:y,handleShowForm:b,showForm:d.showForm,showResults:d.showResults,showRecipe:d.showRecipe}),(0,h.jsx)("div",{className:d.showForm?"":"hidden",children:(0,h.jsx)(m,(0,s.Z)((0,s.Z)({handleInputChange:p},d),{},{addTag:function(e){for(var n=JSON.parse(JSON.stringify(d)),a=n.all_tags.slice(0),t=n.tags.slice(0),r=-1,i=0;i<a.length;i++)parseInt(a[i].id,10)===parseInt(e.id,10)&&(r=i);r>=0&&a.splice(r,1),t.push({id:e.id,tag:e.tag}),t.sort(v.K),u((0,s.Z)((0,s.Z)({},d),{},{all_tags:a,tags:t}))},removeTag:function(e){for(var n=JSON.parse(JSON.stringify(d)),a=n.all_tags.slice(0),t=n.tags.slice(0),r=-1,i=0;i<t.length;i++)parseInt(t[i].id,10)===parseInt(e.id,10)&&(r=i);r>=0&&t.splice(r,1),a.push({id:e.id,tag:e.tag}),a.sort(v.K),u((0,s.Z)((0,s.Z)({},d),{},{all_tags:a,tags:t}))}}))}),(0,h.jsx)("div",{className:d.showResults?"":"hidden",children:(0,h.jsx)(g,{results:d.results,viewRecipe:function(e){window.scrollTo(0,0),document.getElementById("spinner-holder").style.display="block",c.Z.getRecipe(e).then((function(e){document.getElementById("spinner-holder").style.display="none",u((0,s.Z)((0,s.Z)({},d),{},{showRecipe:!0,showResults:!1,recipe:e}))}))}})}),(0,h.jsx)("div",{className:d.showRecipe?"":"hidden",children:(0,h.jsx)(f.Z,{recipe:d.recipe})}),(0,h.jsx)("br",{}),(0,h.jsx)("br",{}),(0,h.jsx)(A,{sendEmail:R,handleRandom:j,handleBookmark:N,handleEdit:k,handleSearch:w,handleShowResults:y,handleShowForm:b,showForm:d.showForm,showResults:d.showResults,showRecipe:d.showRecipe}),(0,h.jsx)(x,{sendEmailForReals:function(){var e=JSON.parse(JSON.stringify(d)),n={email:e.email,id:e.recipe.id};document.getElementById("spinner-holder").style.display="block",c.Z.gmail(n).then((function(e){document.getElementById("spinner-holder").style.display="none",u((0,s.Z)((0,s.Z)({},d),{},{showEmail:!1})),"undefined"===typeof e||"undefined"===typeof e.status||"forbidden"===e.status?l.Am.error("Denied"):"sent"===e.status&&l.Am.success("Recipe emailed!")}))},email:d.email,showEmail:d.showEmail,cancelEmail:function(){u((0,s.Z)((0,s.Z)({},d),{},{showEmail:!1}))},handleInputChange:p})]})}}}]);