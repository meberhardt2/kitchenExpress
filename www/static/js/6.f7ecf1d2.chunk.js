(this.webpackJsonpkitchen=this.webpackJsonpkitchen||[]).push([[6],{40:function(t,e,a){"use strict";var n=a(8),o=a(9),i=a(42),d=a.n(i),s="//"+window.location.hostname+":2004",r=function(){function t(){Object(n.a)(this,t)}return Object(o.a)(t,null,[{key:"getBookmark",value:function(){return d()({method:"GET",url:s+"/api/bookmark"}).then((function(t){return t.data}))}},{key:"addBookmark",value:function(t){return d()({method:"POST",url:s+"/api/bookmark",data:t}).then((function(t){return t.data}))}},{key:"getTags",value:function(){return d()({method:"GET",url:s+"/api/tags"}).then((function(t){return t.data}))}},{key:"addTag",value:function(t){return d()({method:"POST",url:s+"/api/tags",data:t}).then((function(t){return t.data}))}},{key:"deleteTag",value:function(t){return d()({method:"DELETE",url:"".concat(s,"/api/tags/").concat(t)}).then((function(t){return t.data}))}},{key:"updateTag",value:function(t){return d()({method:"PATCH",url:"".concat(s,"/api/tags/").concat(t.id),data:t}).then((function(t){return t.data}))}},{key:"addRecipe",value:function(t){return d()({method:"POST",url:"".concat(s,"/api/recipe"),data:t}).then((function(t){return t.data}))}},{key:"deleteRecipe",value:function(t){return d()({method:"DELETE",url:"".concat(s,"/api/recipe/").concat(t)}).then((function(t){return t.data}))}},{key:"saveRecipe",value:function(t){return d()({method:"PATCH",url:"".concat(s,"/api/recipe/").concat(t.id),data:t}).then((function(t){return t.data}))}},{key:"search",value:function(t){return d()({method:"POST",url:"".concat(s,"/api/search"),data:t}).then((function(t){return t.data}))}},{key:"random",value:function(){return d()({method:"POST",url:"".concat(s,"/api/random")}).then((function(t){return t.data}))}},{key:"getRecipe",value:function(t){return d()({method:"GET",url:"".concat(s,"/api/recipe/").concat(t)}).then((function(t){return t.data}))}},{key:"cameraUpload",value:function(t){return d()({method:"POST",url:"".concat(s,"/api/camera"),data:t}).then((function(t){return t.data}))}},{key:"gmail",value:function(t){return d()({method:"POST",url:"".concat(s,"/api/recipe/").concat(t.id,"/gmail"),data:t}).then((function(t){return t.data}))}},{key:"sendgrid",value:function(t){return d()({method:"POST",url:"".concat(s,"/api/recipe/").concat(t.id,"/sendgrid"),data:t}).then((function(t){return t.data}))}},{key:"upload",value:function(t){var e=new FormData;e.append(t.filename,t.file);var a=new Request("".concat(s,"/api/upload"),{method:"POST","content-type":"multipart/form-data",body:e});return fetch(a).then((function(t){return t.json()})).catch((function(t){return alert("Server error."),t}))}}]),t}();e.a=r},41:function(t,e,a){"use strict";function n(t,e,a){return e in t?Object.defineProperty(t,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[e]=a,t}a.d(e,"a",(function(){return n}))},43:function(t,e,a){"use strict";function n(t,e){var a=t.tag.toUpperCase(),n=e.tag.toUpperCase(),o=0;return a>n?o=1:a<n&&(o=-1),o}a.d(e,"a",(function(){return n}))},46:function(t,e,a){"use strict";a.d(e,"a",(function(){return u}));var n=a(8),o=a(9),i=a(11),d=a(10),s=a(0),r=a.n(s),c=a(1),l=function(t){Object(i.a)(a,t);var e=Object(d.a)(a);function a(){return Object(n.a)(this,a),e.apply(this,arguments)}return Object(o.a)(a,[{key:"render",value:function(){var t={},e="modal fade",a="modal-backdrop fade";return this.props.showModal&&(t={paddingRight:"17px",display:"block"},e="modal fade show",a="modal-backdrop fade show"),Object(c.jsxs)(s.Fragment,{children:[Object(c.jsx)("div",{className:e,role:"dialog",style:t,children:Object(c.jsx)("div",{className:"modal-dialog",role:"document",children:Object(c.jsxs)("div",{className:"modal-content",children:[Object(c.jsx)("div",{className:"modal-header",children:Object(c.jsx)("h5",{className:"modal-title",children:this.props.title})}),Object(c.jsx)("div",{className:"modal-body",dangerouslySetInnerHTML:{__html:this.props.body}}),Object(c.jsxs)("div",{className:"modal-footer",children:[Object(c.jsx)("button",{type:"button",className:"btn "+this.props.primaryStyle,onClick:this.props.primaryAction,children:this.props.primaryText}),""!==this.props.secondaryText&&Object(c.jsx)("button",{type:"button",className:"btn "+this.props.secondaryStyle,onClick:this.props.secondaryAction,children:this.props.secondaryText})]})]})})}),Object(c.jsx)("div",{className:a})]})}}]),a}(r.a.Component),u=function(t){Object(i.a)(a,t);var e=Object(d.a)(a);function a(){return Object(n.a)(this,a),e.apply(this,arguments)}return Object(o.a)(a,[{key:"render",value:function(){return Object(c.jsx)(l,{showModal:this.props.showModal,title:"Confirmation",body:"Proceed with deletion?",primaryText:"Delete",primaryAction:this.props.modalAction,primaryStyle:"btn-danger",secondaryText:"Cancel",secondaryAction:this.props.closeModal,secondaryStyle:"btn-secondary"})}}]),a}(r.a.Component)},77:function(t,e,a){"use strict";a.r(e),a.d(e,"default",(function(){return j}));var n=a(41),o=a(8),i=a(9),d=a(19),s=a(11),r=a(10),c=a(0),l=a.n(c),u=a(20),h=a(40),p=a(43),b=a(1),g=function(t){Object(s.a)(a,t);var e=Object(r.a)(a);function a(t){var n;return Object(o.a)(this,a),(n=e.call(this,t)).handleModal=n.handleModal.bind(Object(d.a)(n)),n.handleShowEdit=n.handleShowEdit.bind(Object(d.a)(n)),n}return Object(i.a)(a,[{key:"handleModal",value:function(){this.props.handleModal("delete_tag",this.props.tag.id)}},{key:"handleShowEdit",value:function(){this.props.handleShowEdit(this.props.tag)}},{key:"render",value:function(){return Object(b.jsx)("div",{className:"row",children:Object(b.jsxs)("div",{className:"col-12",children:[Object(b.jsx)("button",{className:"btn button-icon",children:Object(b.jsx)("img",{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAABmJLR0QA/wD/AP+gvaeTAAAACXBIWXMAAA3XAAAN1wFCKJt4AAAAB3RJTUUH4wMIADAm01sivQAAALhJREFUSMftVVsKwjAQnIronMGjaHsT7+Gf+Km9hV6luYrxCv0bf1IoJZjEWFvQhYUsm+zMPsgCU4rItchapBWpgVqRF5GrHIDaE3io5xyAjvnW49s53z0HQCL1rh8Ait7lBkD5ofaZom0rAFhMMTnBtFPejZ7BPABENm4IvPYrWUYSKQP2zEv0BxhVYqfIBOwf+yoe3UJJYF+5o43pwQ3AAYARmUr4GgNwdItoD2ATGdg6Yqev75cnVBVhu6mztgkAAAAASUVORK5CYII=",alt:"delete",onClick:this.handleModal})}),Object(b.jsx)("button",{className:"btn button-icon",children:Object(b.jsx)("img",{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAABmJLR0QA/wD/AP+gvaeTAAAACXBIWXMAAA3XAAAN1wFCKJt4AAAAB3RJTUUH4wMIAC4XVsQdWAAAARBJREFUSMe9lEGKwkAQRSuDKONSNCi4nzso3sebqHiPEXWWc4CRLN2ZhW5cquABdKHwXEwJQdpOJ2n90KSpqvyXVNMl4lFAFaiKbwF14Ae46poDNV/mIRDzr5MugFmyqAKMgT12RRbzGGgCbYVcgM974Qg3RRbzUOMt4PwIuH95J0dbkubJ+DT5AgAezWOgnhkANICVlq+Bpi2eCZDb3AVQyDwNUNjcAbB0ONAw7fCMAOBLU0cXcyB6vIxpgL6mvl3a8rQTFsBEU7+6P9rakgdgmk3LZz03+ZRS7tZWnwsR+RORRRAEmzwj13lUZPX5kBfrbYCD/mK3QHt6ut2bkkP8aWAClBWyK2C8AwZAWd6pGyFQZAKARvXiAAAAAElFTkSuQmCC",alt:"edit",onClick:this.handleShowEdit})}),Object(b.jsx)("span",{className:"tag-name",children:this.props.tag.tag})]})})}}]),a}(l.a.Component),m=function(t){Object(s.a)(a,t);var e=Object(r.a)(a);function a(){return Object(o.a)(this,a),e.apply(this,arguments)}return Object(i.a)(a,[{key:"render",value:function(){var t=this;return Object(b.jsx)("div",{className:"results-tags",children:this.props.tags.length>0&&Object(b.jsx)(c.Fragment,{children:this.props.tags.map((function(e,a){return Object(b.jsx)(g,{tag:e,handleModal:t.props.handleModal,handleShowEdit:t.props.handleShowEdit},e.id)}))})})}}]),a}(l.a.Component),A=function(t){Object(s.a)(a,t);var e=Object(r.a)(a);function a(){return Object(o.a)(this,a),e.apply(this,arguments)}return Object(i.a)(a,[{key:"render",value:function(){return Object(b.jsx)(c.Fragment,{children:this.props.showEdit&&Object(b.jsxs)("div",{className:"row",children:[Object(b.jsx)("div",{className:"col-12 col-md-4",children:Object(b.jsx)("input",{type:"text",placeholder:"New Tag",className:"form-control",name:"new_tag",onChange:this.props.handleEditTag,value:this.props.tag.tag})}),Object(b.jsxs)("div",{className:"col-12 col-md-3 button-row",children:[Object(b.jsx)("button",{type:"button",className:"btn btn-primary",onClick:this.props.handleUpdate,children:"Update"}),Object(b.jsx)("button",{type:"button",className:"btn btn-secondary",onClick:this.props.handleCancelEdit,children:"Cancel"})]})]})})}}]),a}(l.a.Component),f=a(46),j=function(t){Object(s.a)(a,t);var e=Object(r.a)(a);function a(t){var n;return Object(o.a)(this,a),(n=e.call(this,t)).state={tags:[],tag:{},new_tag:"",showModal:!1,showEdit:!1,delete_id:0,modalAction:""},n.handleNewTag=n.handleNewTag.bind(Object(d.a)(n)),n.handleAdd=n.handleAdd.bind(Object(d.a)(n)),n.getTags=n.getTags.bind(Object(d.a)(n)),n.modalAction=n.modalAction.bind(Object(d.a)(n)),n.closeModal=n.closeModal.bind(Object(d.a)(n)),n.handleModal=n.handleModal.bind(Object(d.a)(n)),n.handleEditTag=n.handleEditTag.bind(Object(d.a)(n)),n.handleShowEdit=n.handleShowEdit.bind(Object(d.a)(n)),n.handleCancelEdit=n.handleCancelEdit.bind(Object(d.a)(n)),n.handleUpdate=n.handleUpdate.bind(Object(d.a)(n)),n}return Object(i.a)(a,[{key:"componentDidMount",value:function(){this.getTags()}},{key:"getTags",value:function(){var t=this;document.getElementById("spinner-holder").style.display="block",h.a.getTags().then((function(e){document.getElementById("spinner-holder").style.display="none",t.setState({tags:e})}))}},{key:"handleShowEdit",value:function(t){this.setState({tag:t,showEdit:!0})}},{key:"handleCancelEdit",value:function(){this.setState({showEdit:!1})}},{key:"handleEditTag",value:function(t){var e=JSON.parse(JSON.stringify(this.state)).tag,a=t.target.value;e.tag=a,this.setState({tag:e})}},{key:"handleUpdate",value:function(){var t=this;document.getElementById("spinner-holder").style.display="block",h.a.updateTag(this.state.tag).then((function(e){if(document.getElementById("spinner-holder").style.display="none","undefined"===typeof e||"undefined"===typeof e.status||"forbidden"===e.status)u.a.error("Denied");else if("ok"===e.status){for(var a=JSON.parse(JSON.stringify(t.state)).tags.slice(0),n=0;n<a.length;n++)parseInt(a[n].id,10)===parseInt(e.id,10)&&(a[n].tag=e.tag);a.sort(p.a),t.setState({tags:a,tag:{},showEdit:!1})}}))}},{key:"handleNewTag",value:function(t){var e=t.target,a=e.name,o=e.value;this.setState(Object(n.a)({},a,o))}},{key:"handleAdd",value:function(){var t=this,e=JSON.parse(JSON.stringify(this.state));if(0===e.new_tag.length)u.a.error("Tag can't be empty");else{document.getElementById("spinner-holder").style.display="block";var a={new_tag:e.new_tag};h.a.addTag(a).then((function(a){if(document.getElementById("spinner-holder").style.display="none","undefined"===typeof a||"undefined"===typeof a.status||"forbidden"===a.status)u.a.error("Denied");else if("ok"===a.status)if(0===a.id)u.a.error("Oops, error adding tag");else{var n=e.tags;n.push({id:a.id,tag:e.new_tag}),n.sort(p.a),t.setState({tags:n,new_tag:""}),u.a.success("Tag has been added")}}))}}},{key:"handleModal",value:function(t,e){this.setState({showModal:!0,modalAction:t,delete_id:e})}},{key:"closeModal",value:function(){this.setState({showModal:!1})}},{key:"modalAction",value:function(){var t=this;this.setState({showModal:!1}),document.getElementById("spinner-holder").style.display="block",h.a.deleteTag(this.state.delete_id).then((function(e){if(document.getElementById("spinner-holder").style.display="none","undefined"===typeof e||"undefined"===typeof e.status||"forbidden"===e.status)u.a.error("Denied");else if("ok"===e.status){for(var a=JSON.parse(JSON.stringify(t.state)),n=a.tags.slice(0),o=-1,i=0;i<n.length;i++)parseInt(n[i].id,10)===parseInt(a.delete_id,10)&&(o=i);o>=0&&n.splice(o,1),t.setState({tags:n}),u.a.success("Tag has been deleted")}}))}},{key:"render",value:function(){return Object(b.jsxs)(c.Fragment,{children:[Object(b.jsxs)("div",{className:"row",children:[Object(b.jsx)("div",{className:"col-12 col-md-4",children:Object(b.jsx)("input",{type:"text",placeholder:"New Tag",className:"form-control",name:"new_tag",onChange:this.handleNewTag,value:this.state.new_tag||""})}),Object(b.jsx)("div",{className:"col-12 col-md-1 button-row",children:Object(b.jsx)("button",{type:"button",className:"btn btn-primary",onClick:this.handleAdd,children:"Add"})})]}),Object(b.jsx)("hr",{size:"1",width:"80%"}),Object(b.jsx)(A,{tag:this.state.tag,showEdit:this.state.showEdit,handleEditTag:this.handleEditTag,handleCancelEdit:this.handleCancelEdit,handleUpdate:this.handleUpdate}),Object(b.jsx)(m,{tags:this.state.tags,handleModal:this.handleModal,handleShowEdit:this.handleShowEdit}),Object(b.jsx)(f.a,{showModal:this.state.showModal,closeModal:this.closeModal,modalAction:this.modalAction})]})}}]),a}(l.a.Component)}}]);
//# sourceMappingURL=6.f7ecf1d2.chunk.js.map