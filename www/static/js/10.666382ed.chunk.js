(this.webpackJsonpkitchen=this.webpackJsonpkitchen||[]).push([[10],{40:function(e,t,a){"use strict";var n=a(8),r=a(9),c=a(42),i=a.n(c),o="//"+window.location.hostname+":2004",u=function(){function e(){Object(n.a)(this,e)}return Object(r.a)(e,null,[{key:"getBookmark",value:function(){return i()({method:"GET",url:o+"/api/bookmark"}).then((function(e){return e.data}))}},{key:"addBookmark",value:function(e){return i()({method:"POST",url:o+"/api/bookmark",data:e}).then((function(e){return e.data}))}},{key:"getTags",value:function(){return i()({method:"GET",url:o+"/api/tags"}).then((function(e){return e.data}))}},{key:"addTag",value:function(e){return i()({method:"POST",url:o+"/api/tags",data:e}).then((function(e){return e.data}))}},{key:"deleteTag",value:function(e){return i()({method:"DELETE",url:"".concat(o,"/api/tags/").concat(e)}).then((function(e){return e.data}))}},{key:"updateTag",value:function(e){return i()({method:"PATCH",url:"".concat(o,"/api/tags/").concat(e.id),data:e}).then((function(e){return e.data}))}},{key:"addRecipe",value:function(e){return i()({method:"POST",url:"".concat(o,"/api/recipe"),data:e}).then((function(e){return e.data}))}},{key:"deleteRecipe",value:function(e){return i()({method:"DELETE",url:"".concat(o,"/api/recipe/").concat(e)}).then((function(e){return e.data}))}},{key:"saveRecipe",value:function(e){return i()({method:"PATCH",url:"".concat(o,"/api/recipe/").concat(e.id),data:e}).then((function(e){return e.data}))}},{key:"search",value:function(e){return i()({method:"POST",url:"".concat(o,"/api/search"),data:e}).then((function(e){return e.data}))}},{key:"random",value:function(){return i()({method:"POST",url:"".concat(o,"/api/random")}).then((function(e){return e.data}))}},{key:"getRecipe",value:function(e){return i()({method:"GET",url:"".concat(o,"/api/recipe/").concat(e)}).then((function(e){return e.data}))}},{key:"cameraUpload",value:function(e){return i()({method:"POST",url:"".concat(o,"/api/camera"),data:e}).then((function(e){return e.data}))}},{key:"gmail",value:function(e){return i()({method:"POST",url:"".concat(o,"/api/recipe/").concat(e.id,"/gmail"),data:e}).then((function(e){return e.data}))}},{key:"sendgrid",value:function(e){return i()({method:"POST",url:"".concat(o,"/api/recipe/").concat(e.id,"/sendgrid"),data:e}).then((function(e){return e.data}))}},{key:"upload",value:function(e){var t=new FormData;t.append(e.filename,e.file);var a=new Request("".concat(o,"/api/upload"),{method:"POST","content-type":"multipart/form-data",body:t});return fetch(a).then((function(e){return e.json()})).catch((function(e){return alert("Server error."),e}))}}]),e}();t.a=u},81:function(e,t,a){"use strict";a.r(t),a.d(t,"default",(function(){return k}));var n=a(41),r=a(8),c=a(9),i=a(19),o=a(11),u=a(10),s=a(0),d=a.n(s),l=a(75),h=a.n(l),p=a(20),m=(a(76),a(40)),b=a(1),f=function(e){Object(o.a)(a,e);var t=Object(u.a)(a);function a(){return Object(r.a)(this,a),t.apply(this,arguments)}return Object(c.a)(a,[{key:"render",value:function(){return Object(b.jsxs)(s.Fragment,{children:[Object(b.jsxs)("div",{className:"row",children:[Object(b.jsx)("div",{className:"col-12 col-md-2",children:"Name"}),Object(b.jsx)("div",{className:"col-12 col-md-7",children:Object(b.jsx)("input",{type:"text",className:"form-control",name:"recipe_name",onChange:this.props.handleInputChange,value:this.props.recipe_name||""})})]}),Object(b.jsxs)("div",{className:"row",children:[Object(b.jsx)("div",{className:"col-12 col-md-2",children:"Recipe"}),Object(b.jsx)("div",{className:"col-12 col-md-8",children:Object(b.jsx)("textarea",{name:"recipe",value:this.props.recipe,onChange:this.props.handleInputChange,className:"form-control ocr-textbox"})})]})]})}}]),a}(d.a.Component),j=function(e){Object(o.a)(a,e);var t=Object(u.a)(a);function a(){return Object(r.a)(this,a),t.apply(this,arguments)}return Object(c.a)(a,[{key:"render",value:function(){return Object(b.jsxs)(s.Fragment,{children:[Object(b.jsx)("div",{className:"row button-row",children:Object(b.jsxs)("div",{className:"col-12",children:[Object(b.jsx)("button",{type:"button",className:"btn btn-primary",onClick:this.props.addRecipe,children:"Add"}),Object(b.jsx)("button",{type:"button",className:"btn btn-primary",onClick:this.props.backToCamera,children:"Back To Camera"})]})}),Object(b.jsx)("br",{}),Object(b.jsx)("br",{})]})}}]),a}(d.a.Component),k=function(e){Object(o.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(r.a)(this,a),(n=t.call(this,e)).state={showCamera:!0,showPictureForm:!1,binaryData:"",recipe:"",recipe_name:""},n.onTakePhoto=n.onTakePhoto.bind(Object(i.a)(n)),n.handleInputChange=n.handleInputChange.bind(Object(i.a)(n)),n.addRecipe=n.addRecipe.bind(Object(i.a)(n)),n.backToCamera=n.backToCamera.bind(Object(i.a)(n)),n}return Object(c.a)(a,[{key:"onTakePhoto",value:function(e){var t=this,a=e.split(",")[1];document.getElementById("spinner-holder").style.display="block";var n={image:a};m.a.cameraUpload(n).then((function(e){document.getElementById("spinner-holder").style.display="none","undefined"===typeof e||"undefined"===typeof e.status||"forbidden"===e.status?p.a.error("Denied"):"ok"===e.status&&t.setState({recipe:e.text,showCamera:!1,showPictureForm:!0})}))}},{key:"handleInputChange",value:function(e){var t=e.target,a=t.name,r=t.value;this.setState(Object(n.a)({},a,r))}},{key:"backToCamera",value:function(){this.setState({recipe_name:"",recipe:"",showCamera:!0,showPictureForm:!1})}},{key:"addRecipe",value:function(){var e=this,t=JSON.parse(JSON.stringify(this.state)),a=!1;if(""===this.state.recipe_name&&(a=!0,p.a.error("Missing recipe name")),""===this.state.recipe&&(a=!0,p.a.error("Missing recipe")),!a){var n={recipe_name:t.recipe_name,recipe:t.recipe,bookmarked:"n",ingredients:"",tags:[]};document.getElementById("spinner-holder").style.display="block",m.a.addRecipe(n).then((function(t){document.getElementById("spinner-holder").style.display="none","undefined"===typeof t||"undefined"===typeof t.status||"forbidden"===t.status?p.a.error("Denied"):"ok"===t.status&&(0!==parseInt(t.id)?(p.a.success("Recipe added!"),e.setState({recipe_name:"",recipe:"",showCamera:!0,showPictureForm:!1})):p.a.error("There was an error saving"))}))}}},{key:"render",value:function(){var e=this;return Object(b.jsxs)(s.Fragment,{children:[Object(b.jsx)("div",{className:this.state.showCamera?"":"hidden",children:Object(b.jsx)(h.a,{onTakePhoto:function(t){e.onTakePhoto(t)},idealFacingMode:"environment",isImageMirror:!1})}),Object(b.jsxs)("div",{className:this.state.showPictureForm?"":"hidden",children:[Object(b.jsx)(j,{addRecipe:this.addRecipe,backToCamera:this.backToCamera}),Object(b.jsx)(f,{handleInputChange:this.handleInputChange,recipe:this.state.recipe,recipe_name:this.state.recipe_name}),Object(b.jsx)(j,{addRecipe:this.addRecipe,backToCamera:this.backToCamera})]})]})}}]),a}(d.a.Component)}}]);
//# sourceMappingURL=10.666382ed.chunk.js.map