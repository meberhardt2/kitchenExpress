{"version":3,"sources":["api/api.js","components/camera/form.js","components/camera/buttons.js","components/camera/index.js"],"names":["api_url","window","location","hostname","API","axios","method","url","then","response","data","id","form_data","FormData","append","filename","file","request","Request","body","fetch","json","catch","error","alert","Form","className","type","name","onChange","this","props","handleInputChange","value","recipe_name","recipe","React","Component","Buttons","onClick","addRecipe","backToCamera","CameraIndex","state","showCamera","showPictureForm","binaryData","onTakePhoto","bind","dataUri","base64string","split","document","getElementById","style","display","cameraUpload","status","toast","setState","text","event","target","tempState","JSON","parse","stringify","errors","bookmarked","ingredients","tags","parseInt","success","idealFacingMode","isImageMirror"],"mappings":"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","file":"static/js/10.666382ed.chunk.js","sourcesContent":["import axios from 'axios';\r\n\r\nconst api_url = '//'+window.location.hostname+':2004';\r\n\r\n/**************************************************************************************/\r\nclass API {\r\n\r\n\t/********************************************/\r\n\tstatic getBookmark(){\r\n\t\treturn axios({\r\n\t\t\tmethod: 'GET',\r\n\t\t\turl: api_url+'/api/bookmark',\r\n\t\t})\r\n\t\t.then(function (response){\r\n\t\t\treturn response.data;\r\n\t\t});\r\n\t}\r\n\t/********************************************/\r\n\r\n\r\n\t/********************************************/\r\n\tstatic addBookmark(data){\r\n\t\treturn axios({\r\n\t\t\tmethod: 'POST',\r\n\t\t\turl: api_url+'/api/bookmark',\r\n\t\t\tdata: data\r\n\t\t})\r\n\t\t.then(function (response){\r\n\t\t\treturn response.data;\r\n\t\t});\r\n\t}\r\n\t/********************************************/\r\n\r\n\r\n\t/********************************************/\r\n\tstatic getTags(){\r\n\t\treturn axios({\r\n\t\t\tmethod: 'GET',\r\n\t\t\turl: api_url+'/api/tags',\r\n\t\t})\r\n\t\t.then(function (response){\r\n\t\t\treturn response.data;\r\n\t\t});\r\n\t}\r\n\t/********************************************/\r\n\r\n\r\n\t/********************************************/\r\n\tstatic addTag(data){\r\n\t\treturn axios({\r\n\t\t\tmethod: 'POST',\r\n\t\t\turl: api_url+'/api/tags',\r\n\t\t\tdata: data,\r\n\t\t})\r\n\t\t.then(function (response){\r\n\t\t\treturn response.data;\r\n\t\t});\r\n\t}\r\n\t/********************************************/\r\n\r\n\r\n\t/********************************************/\r\n\tstatic deleteTag(id){\r\n\t\treturn axios({\r\n\t\t\tmethod: 'DELETE',\r\n\t\t\turl: `${api_url}/api/tags/${id}`,\r\n\t\t})\r\n\t\t.then(function (response){\r\n\t\t\treturn response.data;\r\n\t\t});\r\n\t}\r\n\t/********************************************/\r\n\r\n\r\n\t/********************************************/\r\n\tstatic updateTag(data){\r\n\t\treturn axios({\r\n\t\t\tmethod: 'PATCH',\r\n\t\t\turl: `${api_url}/api/tags/${data.id}`,\r\n\t\t\tdata: data,\r\n\t\t})\r\n\t\t.then(function (response){\r\n\t\t\treturn response.data;\r\n\t\t});\r\n\t}\r\n\t/********************************************/\r\n\r\n\r\n\t/********************************************/\r\n\tstatic addRecipe(data){\r\n\t\treturn axios({\r\n\t\t\tmethod: 'POST',\r\n\t\t\turl: `${api_url}/api/recipe`,\r\n\t\t\tdata: data,\r\n\t\t})\r\n\t\t.then(function (response){\r\n\t\t\treturn response.data;\r\n\t\t});\r\n\t}\r\n\t/********************************************/\r\n\r\n\r\n\t/********************************************/\r\n\tstatic deleteRecipe(id){\r\n\t\treturn axios({\r\n\t\t\tmethod: 'DELETE',\r\n\t\t\turl: `${api_url}/api/recipe/${id}`,\r\n\t\t})\r\n\t\t.then(function (response){\r\n\t\t\treturn response.data;\r\n\t\t});\r\n\t}\r\n\t/********************************************/\r\n\r\n\r\n\t/********************************************/\r\n\tstatic saveRecipe(data){\r\n\t\treturn axios({\r\n\t\t\tmethod: 'PATCH',\r\n\t\t\turl: `${api_url}/api/recipe/${data.id}`,\r\n\t\t\tdata: data,\r\n\t\t})\r\n\t\t.then(function (response){\r\n\t\t\treturn response.data;\r\n\t\t});\r\n\t}\r\n\t/********************************************/\r\n\r\n\r\n\t/********************************************/\r\n\tstatic search(data){\r\n\t\treturn axios({\r\n\t\t\tmethod: 'POST',\r\n\t\t\turl: `${api_url}/api/search`,\r\n\t\t\tdata: data,\r\n\t\t})\r\n\t\t.then(function (response){\r\n\t\t\treturn response.data;\r\n\t\t});\r\n\t}\r\n\t/********************************************/\r\n\r\n\r\n\t/********************************************/\r\n\tstatic random(){\r\n\t\treturn axios({\r\n\t\t\tmethod: 'POST',\r\n\t\t\turl: `${api_url}/api/random`,\r\n\t\t})\r\n\t\t.then(function (response){\r\n\t\t\treturn response.data;\r\n\t\t});\r\n\t}\r\n\t/********************************************/\r\n\r\n\r\n\t/********************************************/\r\n\tstatic getRecipe(id){\r\n\t\treturn axios({\r\n\t\t\tmethod: 'GET',\r\n\t\t\turl: `${api_url}/api/recipe/${id}`,\r\n\t\t})\r\n\t\t.then(function (response){\r\n\t\t\treturn response.data;\r\n\t\t});\r\n\t}\r\n\t/********************************************/\r\n\r\n\r\n\t/********************************************/\r\n\tstatic cameraUpload(data){\r\n\t\treturn axios({\r\n\t\t\tmethod: 'POST',\r\n\t\t\turl: `${api_url}/api/camera`,\r\n\t\t\tdata: data,\r\n\t\t})\r\n\t\t.then(function (response){\r\n\t\t\treturn response.data;\r\n\t\t});\r\n\t}\r\n\t/********************************************/\r\n\r\n\r\n\t/********************************************/\r\n\tstatic gmail(data){\r\n\t\treturn axios({\r\n\t\t\tmethod: 'POST',\r\n\t\t\turl: `${api_url}/api/recipe/${data.id}/gmail`,\r\n\t\t\tdata: data,\r\n\t\t})\r\n\t\t.then(function (response){\r\n\t\t\treturn response.data;\r\n\t\t});\r\n\t}\r\n\t/********************************************/\r\n\r\n\r\n\t/********************************************/\r\n\tstatic sendgrid(data){\r\n\t\treturn axios({\r\n\t\t\tmethod: 'POST',\r\n\t\t\turl: `${api_url}/api/recipe/${data.id}/sendgrid`,\r\n\t\t\tdata: data,\r\n\t\t})\r\n\t\t.then(function (response){\r\n\t\t\treturn response.data;\r\n\t\t});\r\n\t}\r\n\t/********************************************/\r\n\r\n\r\n\t/****************************************/\r\n\tstatic upload(data) {\r\n\t\tvar form_data = new FormData();\r\n\t\tform_data.append(data.filename, data.file);\r\n\r\n\t\tconst request = new Request(`${api_url}/api/upload`, {\r\n\t\t\tmethod: 'POST',\r\n\t\t\t'content-type': 'multipart/form-data',\r\n\t\t\tbody: form_data,\r\n\t\t});\r\n\r\n\t\treturn fetch(request).then(response => {\r\n\t\t\treturn response.json();\r\n\t\t}).catch(error => {\r\n\t\t\talert(\"Server error.\")\r\n\r\n\t\t\treturn error;\r\n\t\t});\r\n\t}\r\n\t/****************************************/\r\n}\r\n/**************************************************************************************/\r\n\r\nexport default API;","import React, { Fragment } from 'react';\r\n\r\n/**************************************************************************************/\r\nexport default class Form extends React.Component {\r\n\r\n\t/****************************************/\r\n\trender(){\r\n\t\treturn(\r\n\t\t\t<Fragment>\r\n\t\t\t\t<div className=\"row\">\r\n\t\t\t\t\t<div className=\"col-12 col-md-2\">Name</div>\r\n\t\t\t\t\t<div className=\"col-12 col-md-7\"><input type=\"text\" className=\"form-control\" name=\"recipe_name\" onChange={this.props.handleInputChange} value={this.props.recipe_name || ''} /></div>\r\n\t\t\t\t</div>\r\n\r\n\t\t\t\t<div className=\"row\">\r\n\t\t\t\t\t<div className=\"col-12 col-md-2\">Recipe</div>\r\n\t\t\t\t\t<div className=\"col-12 col-md-8\">\r\n\t\t\t\t\t\t<textarea name=\"recipe\" value={this.props.recipe} onChange={this.props.handleInputChange} className=\"form-control ocr-textbox\"></textarea>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</Fragment>\r\n\t\t)\r\n\t}\r\n\t/****************************************/\r\n\r\n}\r\n/**************************************************************************************/\r\n","import React, { Fragment } from 'react';\r\n\r\n\r\n/**************************************************************************************/\r\nexport default class Buttons extends React.Component {\r\n\r\n\t/****************************************/\r\n\trender(){\r\n\t\treturn(\r\n\t\t\t<Fragment>\r\n\t\t\t\t<div className=\"row button-row\">\r\n\t\t\t\t\t<div className=\"col-12\">\r\n\t\t\t\t\t\t<button type=\"button\" className=\"btn btn-primary\" onClick={this.props.addRecipe}>Add</button>\r\n\t\t\t\t\t\t<button type=\"button\" className=\"btn btn-primary\" onClick={this.props.backToCamera}>Back To Camera</button>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t\t<br /><br />\r\n\t\t\t</Fragment>\r\n\t\t)\r\n\t}\r\n\t/****************************************/\r\n\r\n}\r\n/**************************************************************************************/\r\n\r\n","import React, { Fragment } from 'react';\r\nimport Camera from 'react-html5-camera-photo';\r\nimport { toast } from 'react-toastify';\r\n\r\nimport 'react-html5-camera-photo/build/css/index.css';\r\n\r\nimport API from 'api/api';\r\nimport Form from 'components/camera/form';\r\nimport Buttons from 'components/camera/buttons'\r\n\r\n/**************************************************************************************/\r\nexport default class CameraIndex extends React.Component {\r\n\r\n\t/****************************************/\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\r\n\t\tthis.state = {\r\n\t\t\tshowCamera: true,\r\n\t\t\tshowPictureForm: false,\r\n\t\t\tbinaryData: '',\r\n\t\t\trecipe: '',\r\n\t\t\trecipe_name: ''\r\n\t\t}\r\n\r\n\t\tthis.onTakePhoto = this.onTakePhoto.bind(this);\r\n\t\tthis.handleInputChange = this.handleInputChange.bind(this);\r\n\t\tthis.addRecipe = this.addRecipe.bind(this);\r\n\t\tthis.backToCamera = this.backToCamera.bind(this);\r\n\t}\r\n\t/****************************************/\r\n\r\n\r\n\t/****************************************/\r\n\tonTakePhoto (dataUri) {\r\n\t\t//the data comes in as a complete string with the below text as well as the base64 info. which works great to display the image, but tessaract needs that removed\r\n\t\t//data:image/png;base64,{bytes...}\r\n\t\tconst base64string = dataUri.split(',')[1];\r\n\r\n\t\tdocument.getElementById('spinner-holder').style.display = 'block';\r\n\r\n\t\tlet data = {\r\n\t\t\t'image': base64string\r\n\t\t};\r\n\r\n\t\tAPI.cameraUpload(data).then((data) => {\r\n\t\t\tdocument.getElementById('spinner-holder').style.display = 'none';\r\n\t\t\tif(typeof data === 'undefined' || typeof data.status === 'undefined' || data.status === 'forbidden'){\r\n\t\t\t\ttoast.error('Denied');\r\n\t\t\t}\r\n\t\t\telse{\r\n\t\t\t\tif(data.status === 'ok'){\r\n\t\t\t\t\t//console.log(data);\r\n\t\t\t\t\tthis.setState({\r\n\t\t\t\t\t\trecipe:data.text,\r\n\t\t\t\t\t\tshowCamera: false,\r\n\t\t\t\t\t\tshowPictureForm: true\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n\t/****************************************/\r\n\r\n\r\n\t/****************************************/\r\n\thandleInputChange(event) {\r\n\t\tconst target = event.target;\r\n\t\tconst name = target.name;\r\n\t\tlet value = target.value;\r\n\r\n\r\n\t\tthis.setState({\r\n\t\t\t[name]: value\r\n\t\t});\r\n\t}\r\n\t/****************************************/\r\n\r\n\r\n\t/****************************************/\r\n\tbackToCamera(){\r\n\t\tthis.setState({\r\n\t\t\trecipe_name: '',\r\n\t\t\trecipe: '',\r\n\t\t\tshowCamera: true,\r\n\t\t\tshowPictureForm: false,\r\n\t\t});\r\n\t}\r\n\t/****************************************/\r\n\r\n\r\n\t/****************************************/\r\n\taddRecipe(){\r\n\t\tlet tempState = JSON.parse(JSON.stringify(this.state));\r\n\t\tlet errors = false;\r\n\t\t\r\n\t\tif(this.state.recipe_name === ''){\r\n\t\t\terrors = true;\r\n\t\t\ttoast.error('Missing recipe name');\r\n\t\t}\r\n\r\n\t\tif(this.state.recipe === ''){\r\n\t\t\terrors = true;\r\n\t\t\ttoast.error('Missing recipe');\r\n\t\t}\r\n\r\n\t\tif(!errors){\r\n\t\t\tlet data = {\r\n\t\t\t\trecipe_name: tempState.recipe_name,\r\n\t\t\t\trecipe: tempState.recipe,\r\n\t\t\t\tbookmarked: 'n',\r\n\t\t\t\tingredients: '',\r\n\t\t\t\ttags: []\r\n\t\t\t}\r\n\r\n\t\t\tdocument.getElementById('spinner-holder').style.display = 'block';\r\n\r\n\t\t\tAPI.addRecipe(data).then((data) => {\r\n\t\t\t\tdocument.getElementById('spinner-holder').style.display = 'none';\r\n\r\n\t\t\t\tif(typeof data === 'undefined' || typeof data.status === 'undefined' || data.status === 'forbidden'){\r\n\t\t\t\t\ttoast.error('Denied');\r\n\t\t\t\t}\r\n\t\t\t\telse{\r\n\t\t\t\t\tif(data.status === 'ok'){\r\n\t\t\t\t\t\tif(parseInt(data.id) !== 0){\r\n\t\t\t\t\t\t\ttoast.success('Recipe added!');\r\n\r\n\t\t\t\t\t\t\tthis.setState({\r\n\t\t\t\t\t\t\t\trecipe_name: '',\r\n\t\t\t\t\t\t\t\trecipe: '',\r\n\t\t\t\t\t\t\t\tshowCamera: true,\r\n\t\t\t\t\t\t\t\tshowPictureForm: false,\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\telse{\r\n\t\t\t\t\t\t\ttoast.error('There was an error saving');\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t}\r\n\t}\r\n\t/****************************************/\r\n\r\n\r\n\t/****************************************/\r\n\trender(){\r\n\t\treturn(\r\n\t\t\t<Fragment>\r\n\t\t\t\t<div className={this.state.showCamera  ? '' : 'hidden'} >\r\n\t\t\t\t\t<Camera onTakePhoto={ (dataUri) => { this.onTakePhoto(dataUri); } } idealFacingMode='environment' isImageMirror={false} />\r\n\t\t\t\t</div>\r\n\r\n\t\t\t\t<div className={this.state.showPictureForm  ? '' : 'hidden'} >\r\n\t\t\t\t\t<Buttons addRecipe={this.addRecipe} backToCamera={this.backToCamera} />\r\n\r\n\t\t\t\t\t<Form handleInputChange={this.handleInputChange} recipe={this.state.recipe} recipe_name={this.state.recipe_name} />\r\n\r\n\t\t\t\t\t<Buttons addRecipe={this.addRecipe} backToCamera={this.backToCamera} />\r\n\t\t\t\t</div>\r\n\t\t\t</Fragment>\r\n\t\t)\r\n\t}\r\n\t/****************************************/\r\n\r\n}\r\n/**************************************************************************************/\r\n\r\n\r\n"],"sourceRoot":""}