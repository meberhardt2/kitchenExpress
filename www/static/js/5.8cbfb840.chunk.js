(this.webpackJsonpkitchen=this.webpackJsonpkitchen||[]).push([[5],{40:function(e,t,a){"use strict";var n=a(8),s=a(9),i=a(42),r=a.n(i),c="//"+window.location.hostname+":2004",o=function(){function e(){Object(n.a)(this,e)}return Object(s.a)(e,null,[{key:"getBookmark",value:function(){return r()({method:"GET",url:c+"/api/bookmark"}).then((function(e){return e.data}))}},{key:"addBookmark",value:function(e){return r()({method:"POST",url:c+"/api/bookmark",data:e}).then((function(e){return e.data}))}},{key:"getTags",value:function(){return r()({method:"GET",url:c+"/api/tags"}).then((function(e){return e.data}))}},{key:"addTag",value:function(e){return r()({method:"POST",url:c+"/api/tags",data:e}).then((function(e){return e.data}))}},{key:"deleteTag",value:function(e){return r()({method:"DELETE",url:"".concat(c,"/api/tags/").concat(e)}).then((function(e){return e.data}))}},{key:"updateTag",value:function(e){return r()({method:"PATCH",url:"".concat(c,"/api/tags/").concat(e.id),data:e}).then((function(e){return e.data}))}},{key:"addRecipe",value:function(e){return r()({method:"POST",url:"".concat(c,"/api/recipe"),data:e}).then((function(e){return e.data}))}},{key:"deleteRecipe",value:function(e){return r()({method:"DELETE",url:"".concat(c,"/api/recipe/").concat(e)}).then((function(e){return e.data}))}},{key:"saveRecipe",value:function(e){return r()({method:"PATCH",url:"".concat(c,"/api/recipe/").concat(e.id),data:e}).then((function(e){return e.data}))}},{key:"search",value:function(e){return r()({method:"POST",url:"".concat(c,"/api/search"),data:e}).then((function(e){return e.data}))}},{key:"random",value:function(){return r()({method:"POST",url:"".concat(c,"/api/random")}).then((function(e){return e.data}))}},{key:"getRecipe",value:function(e){return r()({method:"GET",url:"".concat(c,"/api/recipe/").concat(e)}).then((function(e){return e.data}))}},{key:"cameraUpload",value:function(e){return r()({method:"POST",url:"".concat(c,"/api/camera"),data:e}).then((function(e){return e.data}))}},{key:"gmail",value:function(e){return r()({method:"POST",url:"".concat(c,"/api/recipe/").concat(e.id,"/gmail"),data:e}).then((function(e){return e.data}))}},{key:"sendgrid",value:function(e){return r()({method:"POST",url:"".concat(c,"/api/recipe/").concat(e.id,"/sendgrid"),data:e}).then((function(e){return e.data}))}},{key:"upload",value:function(e){var t=new FormData;t.append(e.filename,e.file);var a=new Request("".concat(c,"/api/upload"),{method:"POST","content-type":"multipart/form-data",body:t});return fetch(a).then((function(e){return e.json()})).catch((function(e){return alert("Server error."),e}))}}]),e}();t.a=o},41:function(e,t,a){"use strict";function n(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}a.d(t,"a",(function(){return n}))},43:function(e,t,a){"use strict";function n(e,t){var a=e.tag.toUpperCase(),n=t.tag.toUpperCase(),s=0;return a>n?s=1:a<n&&(s=-1),s}a.d(t,"a",(function(){return n}))},44:function(e,t,a){"use strict";a.d(t,"a",(function(){return d}));var n=a(8),s=a(9),i=a(11),r=a(10),c=a(0),o=a.n(c),l=a(1),d=function(e){Object(i.a)(a,e);var t=Object(r.a)(a);function a(){return Object(n.a)(this,a),t.apply(this,arguments)}return Object(s.a)(a,[{key:"render",value:function(){return Object(l.jsxs)("div",{className:"recipe-viewer",children:[Object(l.jsx)("h3",{children:this.props.recipe.recipe_name}),Object(l.jsx)("div",{className:"row",children:Object(l.jsxs)("div",{className:"col-12",children:[Object(l.jsx)("div",{children:Object(l.jsx)("strong",{children:"Ingredients"})}),Object(l.jsx)("br",{}),this.props.recipe.ingredients]})}),Object(l.jsx)("div",{className:"row",children:Object(l.jsxs)("div",{className:"col-12",children:[Object(l.jsx)("div",{children:Object(l.jsx)("strong",{children:"Recipe"})}),Object(l.jsx)("br",{}),this.props.recipe.recipe]})})]})}}]),a}(o.a.Component)},45:function(e,t,a){"use strict";a.d(t,"a",(function(){return i}));var n=a(41);function s(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function i(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?s(Object(a),!0).forEach((function(t){Object(n.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):s(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}},47:function(e,t,a){"use strict";a.d(t,"a",(function(){return h}));var n=a(8),s=a(9),i=a(19),r=a(11),c=a(10),o=a(0),l=a.n(o),d=a(1),h=function(e){Object(r.a)(a,e);var t=Object(c.a)(a);function a(e){var s;return Object(n.a)(this,a),(s=t.call(this,e)).addTag=s.addTag.bind(Object(i.a)(s)),s}return Object(s.a)(a,[{key:"addTag",value:function(e){e.preventDefault(),this.props.addTag(this.props.tag)}},{key:"render",value:function(){var e=this;return Object(d.jsx)("div",{className:"row",children:Object(d.jsx)("div",{className:"col-12",children:Object(d.jsxs)("a",{href:"# ",onClick:function(t){return e.addTag(t)},children:[Object(d.jsx)("img",{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAABmJLR0QA/wD/AP+gvaeTAAAACXBIWXMAAA3XAAAN1wFCKJt4AAAAB3RJTUUH4wMIFxgOotqRGAAAAYFJREFUSMfFlb9OAkEQxr+zgkhzxA56wHcQ0AdAO1tj1FeA8EhUSumfRKRSaf2f2EgtGHp/NnNmcx53Rzh1ks0mM998MzuzOyv9snhxRqAoaUdSS1JVUtlMY0mPkvqSjj3Pe18oKpAHusAHyTI1bD4teRkYOQSnwAFQAVZtVYFD4MzBjYBSGvKxOTwB9RQJNYBn8xnPDWJlCTK/BPwFSuoDA/O9AXJRoK6Tub/obQGKwItxdKKMQUPrMSRDYBhjbzqN913DftDQhCwBSMCcG2xPklZM37K9l8Hb6oU4Jas7QCWDE1QN9ugqZ6YsRNQ8SYYhn4LpZ26JspSA8/NPShREu7d9I4MTBNf8zg3Qt303gwC7Ic7vhza1ozWWeGhbxjH5MQ2cUfEKrC05KtpRgBxwa4DBgsOuCFzFDjsDlpxx/Qw0U5BvOpm/pfkTSpZFIOfAEVCzR1QA1k134eCuE8lD5eo4jY+TCdCeV5akT9+XtG2Dqxb69B/sKp54njfRf8kXFOiYEKlDfDgAAAAASUVORK5CYII=",alt:"add tag"}),"\xa0",Object(d.jsx)("span",{className:"tag-link",children:this.props.tag.tag})]})})})}}]),a}(l.a.Component)},48:function(e,t,a){"use strict";a.d(t,"a",(function(){return h}));var n=a(8),s=a(9),i=a(19),r=a(11),c=a(10),o=a(0),l=a.n(o),d=a(1),h=function(e){Object(r.a)(a,e);var t=Object(c.a)(a);function a(e){var s;return Object(n.a)(this,a),(s=t.call(this,e)).removeTag=s.removeTag.bind(Object(i.a)(s)),s}return Object(s.a)(a,[{key:"removeTag",value:function(e){e.preventDefault(),this.props.removeTag(this.props.tag)}},{key:"render",value:function(){var e=this;return Object(d.jsx)("div",{className:"row",children:Object(d.jsx)("div",{className:"col-12",children:Object(d.jsxs)("a",{href:"# ",onClick:function(t){return e.removeTag(t)},children:[Object(d.jsx)("img",{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAABmJLR0QA/wD/AP+gvaeTAAAACXBIWXMAAA3XAAAN1wFCKJt4AAAAB3RJTUUH4wMIFyA6lPHZVgAAAXxJREFUSMfFlbtOAlEQhv+1gkizxA56wHcQ0AdAO1pj1FeA8EhUSqmYiFQqrYqY2EgtGHo/m1lzsiLsyqqTnJxkLv/MmduRfpm8RUIgK2lPUk1SUVLeRGNJQ0kdSSee573G8gqkgRbwxnKamm46KngeGDgAZ8AhUADW7RSBI+Dc0RsAuSjgYzN4BMoRAqoAI7MZf+vE0hJEfgn4MVLqAz2zvQFS85RaTuR+3G4BssCTYTTnCYOCln/akkDVKbzvCg6Cgq7a90DXsPYlac34NbvbCcxWO4QpWd4BCgm8oGhYQ5c5M2YmpNyPMGj9kE3G+DM3RUlSgPn+JykKvN3bvZXAC4I2v3MddOyuJ+CgHsL8HLSpPa2yQnp2DGPyZRs4q+IZ2FhxVTTmKaSAW1PoxVx2WeBq4bIzxZyzrkdANQL4thP5S5Q/IWdRBNQFjoGSDVEG2DTehaN3vRQ8lK6mU/hFNAEa36Vl2afvS9q1xVUKffoP1oqnnudN9F/0AZA4cSja75VSAAAAAElFTkSuQmCC",alt:"remove tag"}),"\xa0",Object(d.jsx)("span",{className:"tag-link",children:this.props.tag.tag})]})})})}}]),a}(l.a.Component)},78:function(e,t,a){"use strict";a.r(t),a.d(t,"default",(function(){return w}));var n=a(45),s=a(41),i=a(8),r=a(9),c=a(19),o=a(11),l=a(10),d=a(0),h=a.n(d),u=a(20),p=a(40),m=a(47),b=a(48),j=a(1),O=function(e){Object(o.a)(a,e);var t=Object(l.a)(a);function a(){return Object(i.a)(this,a),t.apply(this,arguments)}return Object(r.a)(a,[{key:"render",value:function(){var e=this;return Object(j.jsxs)(d.Fragment,{children:[Object(j.jsxs)("div",{className:"row",children:[Object(j.jsx)("div",{className:"col-12 col-md-1",children:"Name"}),Object(j.jsx)("div",{className:"col-12 col-md-7",children:Object(j.jsx)("input",{type:"text",className:"form-control",name:"recipe_name",onChange:this.props.handleInputChange,value:this.props.recipe_name||""})})]}),Object(j.jsxs)("div",{className:"row",children:[Object(j.jsx)("div",{className:"col-12 col-md-1"}),Object(j.jsx)("div",{className:"col-12 col-md-5",children:Object(j.jsxs)("div",{className:"tag-holder",children:[Object(j.jsx)("div",{className:"tag-holder-header",children:"Search Tag(s)"}),this.props.tags.map((function(t,a){return Object(j.jsx)(b.a,{tag:t,removeTag:e.props.removeTag},t.id)}))]})}),Object(j.jsx)("div",{className:"col-12 col-md-5",children:Object(j.jsxs)("div",{className:"tag-holder",children:[Object(j.jsx)("div",{className:"tag-holder-header",children:"Available Tag(s)"}),this.props.all_tags.map((function(t,a){return Object(j.jsx)(m.a,{tag:t,addTag:e.props.addTag},t.id)}))]})})]}),Object(j.jsxs)("div",{className:"row",children:[Object(j.jsx)("div",{className:"col-12 col-md-1",children:"Ingredients"}),Object(j.jsx)("div",{className:"col-12 col-md-10",children:Object(j.jsx)("textarea",{className:"form-control ingredients",name:"ingredients",onChange:this.props.handleInputChange,value:this.props.ingredients||""})})]})]})}}]),a}(h.a.Component),g=function(e){Object(o.a)(a,e);var t=Object(l.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).viewRecipe=n.viewRecipe.bind(Object(c.a)(n)),n}return Object(r.a)(a,[{key:"viewRecipe",value:function(e){e.preventDefault(),this.props.viewRecipe(this.props.result.id)}},{key:"render",value:function(){var e=this;return Object(j.jsx)(d.Fragment,{children:Object(j.jsx)("div",{className:"row",children:Object(j.jsx)("div",{className:"col-12",children:Object(j.jsx)("a",{href:"# ",onClick:function(t){return e.viewRecipe(t)},children:this.props.result.recipe_name})})})})}}]),a}(h.a.Component),v=function(e){Object(o.a)(a,e);var t=Object(l.a)(a);function a(){return Object(i.a)(this,a),t.apply(this,arguments)}return Object(r.a)(a,[{key:"render",value:function(){var e=this;return Object(j.jsxs)("div",{className:"results-holder",children:[Object(j.jsxs)("h4",{children:["Total: ",this.props.results.length]}),Object(j.jsx)("br",{}),this.props.results.map((function(t,a){return Object(j.jsx)(g,{result:t,viewRecipe:e.props.viewRecipe},t.id)}))]})}}]),a}(h.a.Component),f=a(44),y=function(e){Object(o.a)(a,e);var t=Object(l.a)(a);function a(){return Object(i.a)(this,a),t.apply(this,arguments)}return Object(r.a)(a,[{key:"render",value:function(){return Object(j.jsxs)(d.Fragment,{children:[Object(j.jsx)("div",{className:"row button-row",children:Object(j.jsxs)("div",{className:"col-12",children:[this.props.showForm&&Object(j.jsxs)(d.Fragment,{children:[Object(j.jsx)("button",{type:"button",className:"btn btn-primary",onClick:this.props.handleSearch,children:"Search"}),"\xa0",Object(j.jsx)("button",{type:"button",className:"btn btn-primary",onClick:this.props.handleRandom,children:"Random"})]}),this.props.showResults&&Object(j.jsxs)(d.Fragment,{children:[Object(j.jsx)("button",{type:"button",className:"btn btn-primary",onClick:this.props.handleShowForm,children:"Show Form"}),"\xa0",Object(j.jsx)("button",{type:"button",className:"btn btn-primary",onClick:this.props.handleRandom,children:"Random"})]}),this.props.showRecipe&&Object(j.jsxs)(d.Fragment,{children:[Object(j.jsx)("button",{type:"button",className:"btn btn-primary",onClick:this.props.handleShowResults,children:"Back To Results"}),"\xa0",Object(j.jsx)("button",{type:"button",className:"btn btn-primary",onClick:this.props.handleShowForm,children:"Show Form"}),"\xa0",Object(j.jsx)("button",{type:"button",className:"btn btn-primary",onClick:this.props.handleEdit,children:"Edit"}),"\xa0",Object(j.jsx)("button",{type:"button",className:"btn btn-primary",onClick:this.props.handleBookmark,children:"Bookmark"}),"\xa0",Object(j.jsx)("button",{type:"button",className:"btn btn-primary",onClick:this.props.sendEmail,children:"Email"})]})]})}),Object(j.jsx)("br",{}),Object(j.jsx)("br",{})]})}}]),a}(h.a.Component),A=a(43),k=function(e){Object(o.a)(a,e);var t=Object(l.a)(a);function a(){return Object(i.a)(this,a),t.apply(this,arguments)}return Object(r.a)(a,[{key:"render",value:function(){var e={},t="modal fade",a="modal-backdrop fade";return this.props.showEmail&&(e={paddingRight:"17px",display:"block"},t="modal fade show",a="modal-backdrop fade show"),Object(j.jsxs)(d.Fragment,{children:[Object(j.jsx)("div",{className:t,role:"dialog",style:e,children:Object(j.jsx)("div",{className:"modal-dialog modal-lg",role:"document",children:Object(j.jsxs)("div",{className:"modal-content",children:[Object(j.jsx)("div",{className:"modal-header",children:Object(j.jsx)("h5",{className:"modal-title",children:"Email Recipe"})}),Object(j.jsx)("div",{className:"modal-body",children:Object(j.jsx)("div",{className:"row",children:Object(j.jsx)("div",{className:"col-12",children:Object(j.jsx)("input",{type:"text",name:"email",className:"form-control",onChange:this.props.handleInputChange,value:this.props.email})})})}),Object(j.jsxs)("div",{className:"modal-footer",children:[Object(j.jsx)("button",{type:"button",className:"btn btn-primary",onClick:this.props.sendEmailForReals,children:"Send"}),Object(j.jsx)("button",{type:"button",className:"btn btn-cancel",onClick:this.props.cancelEmail,children:"Cancel"})]})]})})}),Object(j.jsx)("div",{className:a})]})}}]),a}(h.a.Component),w=function(e){Object(o.a)(a,e);var t=Object(l.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).state={email:"",recipe_name:"",ingredients:"",tags:[],all_tags:[],results:[],all_tags_immutable:[],recipe:{},showForm:!0,showResults:!1,showRecipe:!1,showEmail:!1},n.handleInputChange=n.handleInputChange.bind(Object(c.a)(n)),n.addTag=n.addTag.bind(Object(c.a)(n)),n.removeTag=n.removeTag.bind(Object(c.a)(n)),n.handleSearch=n.handleSearch.bind(Object(c.a)(n)),n.handleShowForm=n.handleShowForm.bind(Object(c.a)(n)),n.viewRecipe=n.viewRecipe.bind(Object(c.a)(n)),n.handleShowResults=n.handleShowResults.bind(Object(c.a)(n)),n.handleBookmark=n.handleBookmark.bind(Object(c.a)(n)),n.handleEdit=n.handleEdit.bind(Object(c.a)(n)),n.handleRandom=n.handleRandom.bind(Object(c.a)(n)),n.sendEmail=n.sendEmail.bind(Object(c.a)(n)),n.sendEmailForReals=n.sendEmailForReals.bind(Object(c.a)(n)),n.cancelEmail=n.cancelEmail.bind(Object(c.a)(n)),n}return Object(r.a)(a,[{key:"componentDidMount",value:function(){var e=this;document.getElementById("spinner-holder").style.display="block",p.a.getTags().then((function(t){document.getElementById("spinner-holder").style.display="none",e.setState({all_tags:t,all_tags_immutable:t})}))}},{key:"handleInputChange",value:function(e){var t=e.target,a=t.name,n=t.value;this.setState(Object(s.a)({},a,n))}},{key:"handleRandom",value:function(){var e=this;p.a.random().then((function(t){document.getElementById("spinner-holder").style.display="none",e.setState({showForm:!1,showResults:!0,results:t})}))}},{key:"handleSearch",value:function(){var e=this,t=JSON.parse(JSON.stringify(this.state)),a={recipe_name:t.recipe_name,ingredients:t.ingredients,tags:t.tags};document.getElementById("spinner-holder").style.display="block",p.a.search(a).then((function(t){document.getElementById("spinner-holder").style.display="none",e.setState({showForm:!1,showResults:!0,results:t})}))}},{key:"handleShowForm",value:function(){window.scrollTo(0,0),this.setState({showResults:!1,showForm:!0,showRecipe:!1})}},{key:"handleShowResults",value:function(){window.scrollTo(0,0),this.setState({showResults:!0,showRecipe:!1})}},{key:"removeTag",value:function(e){for(var t=JSON.parse(JSON.stringify(this.state)),a=t.all_tags.slice(0),n=t.tags.slice(0),s=-1,i=0;i<n.length;i++)parseInt(n[i].id,10)===parseInt(e.id,10)&&(s=i);s>=0&&n.splice(s,1),a.push({id:e.id,tag:e.tag}),a.sort(A.a),this.setState({all_tags:a,tags:n})}},{key:"addTag",value:function(e){for(var t=JSON.parse(JSON.stringify(this.state)),a=t.all_tags.slice(0),n=t.tags.slice(0),s=-1,i=0;i<a.length;i++)parseInt(a[i].id,10)===parseInt(e.id,10)&&(s=i);s>=0&&a.splice(s,1),n.push({id:e.id,tag:e.tag}),n.sort(A.a),this.setState({all_tags:a,tags:n})}},{key:"viewRecipe",value:function(e){var t=this;window.scrollTo(0,0),document.getElementById("spinner-holder").style.display="block",p.a.getRecipe(e).then((function(e){document.getElementById("spinner-holder").style.display="none",t.setState({showRecipe:!0,showResults:!1,recipe:e})}))}},{key:"handleBookmark",value:function(){document.getElementById("spinner-holder").style.display="block";var e={id:this.state.recipe.id};p.a.addBookmark(e).then((function(e){document.getElementById("spinner-holder").style.display="none",u.a.success("Recipe has been bookmarked!")}))}},{key:"handleEdit",value:function(){this.props.history.push("/recipe/"+this.state.recipe.id)}},{key:"cancelEmail",value:function(){this.setState({showEmail:!1})}},{key:"sendEmail",value:function(){this.setState({showEmail:!0})}},{key:"sendEmailForReals",value:function(){var e=this,t=JSON.parse(JSON.stringify(this.state));document.getElementById("spinner-holder").style.display="block",console.log(t);var a={email:t.email,id:t.recipe.id};p.a.gmail(a).then((function(t){u.a.success("Recipe emailed!"),document.getElementById("spinner-holder").style.display="none",e.setState({showEmail:!1})}))}},{key:"render",value:function(){return Object(j.jsxs)(d.Fragment,{children:[Object(j.jsx)(y,{sendEmail:this.sendEmail,handleRandom:this.handleRandom,handleBookmark:this.handleBookmark,handleEdit:this.handleEdit,handleSearch:this.handleSearch,handleShowResults:this.handleShowResults,handleShowForm:this.handleShowForm,showForm:this.state.showForm,showResults:this.state.showResults,showRecipe:this.state.showRecipe}),Object(j.jsx)("div",{className:this.state.showForm?"":"hidden",children:Object(j.jsx)(O,Object(n.a)(Object(n.a)({handleInputChange:this.handleInputChange},this.state),{},{addTag:this.addTag,removeTag:this.removeTag}))}),Object(j.jsx)("div",{className:this.state.showResults?"":"hidden",children:Object(j.jsx)(v,{results:this.state.results,viewRecipe:this.viewRecipe})}),Object(j.jsx)("div",{className:this.state.showRecipe?"":"hidden",children:Object(j.jsx)(f.a,{recipe:this.state.recipe})}),Object(j.jsx)("br",{}),Object(j.jsx)("br",{}),Object(j.jsx)(y,{sendEmail:this.sendEmail,handleRandom:this.handleRandom,handleBookmark:this.handleBookmark,handleEdit:this.handleEdit,handleSearch:this.handleSearch,handleShowResults:this.handleShowResults,handleShowForm:this.handleShowForm,showForm:this.state.showForm,showResults:this.state.showResults,showRecipe:this.state.showRecipe}),Object(j.jsx)(k,{sendEmailForReals:this.sendEmailForReals,email:this.state.email,showEmail:this.state.showEmail,cancelEmail:this.cancelEmail,handleInputChange:this.handleInputChange})]})}}]),a}(h.a.Component)}}]);
//# sourceMappingURL=5.8cbfb840.chunk.js.map